SET SEARCH_PATH TO employee;

CREATE TABLE dept_manager (
   emp_no       INT             NOT NULL,
   dept_no      CHAR(4)         NOT NULL,
   from_date    DATE            NOT NULL,
   to_date      DATE            NOT NULL,
   FOREIGN KEY (emp_no)  REFERENCES employees (emp_no)    ON DELETE CASCADE,
   FOREIGN KEY (dept_no) REFERENCES departments (dept_no) ON DELETE CASCADE,
   PRIMARY KEY (emp_no,dept_no)
);

INSERT INTO dept_manager VALUES 
(10009,'d001','1985-01-01','1991-09-11'),
(10028,'d001','1991-09-11','9999-01-01'),

(10014,'d002','1985-01-01','1989-12-17'),
(10022,'d002','1989-12-17','9999-01-01'),

(10030,'d003','1985-01-01','1992-03-21'),
(10014,'d003','1992-03-21','9999-01-01'),

(10064,'d004','1985-01-01','1988-09-09'),
(10058,'d004','1988-09-09','1992-08-02'),
(10050,'d004','1992-08-02','1996-08-30'),
(10044,'d004','1996-08-30','9999-01-01'),

(10029,'d005','1985-01-01','1992-04-25'),
(10125,'d005','1992-04-25','9999-01-01'),

(10126,'d006','1985-01-01','1989-05-06'),
(10110,'d006','1989-05-06','1991-09-12'),
(10009,'d006','1991-09-12','1994-06-28'),
(10086,'d006','1994-06-28','9999-01-01'),

(10092,'d007','1985-01-01','1991-03-07'),
(10020,'d007','1991-03-07','9999-01-01'),

(10033,'d008','1985-01-01','1991-04-08'),
(10043,'d008','1991-04-08','9999-01-01'),

(10080,'d009','1985-01-01','1988-10-17'),
(10088,'d009','1988-10-17','1992-09-08'),
(10079,'d009','1992-09-08','1996-01-03'),
(10091,'d009','1996-01-03','9999-01-01');